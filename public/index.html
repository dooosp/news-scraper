<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>News Dashboard</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header class="app-header">
        <div class="app-title">News Dashboard</div>
        <nav class="desktop-tabs">
            <button class="tab-btn active" data-tab="dashboard">대시보드</button>
            <button class="tab-btn" data-tab="timeline">타임라인</button>
            <button class="tab-btn" data-tab="analysis">분석</button>
            <button class="tab-btn" data-tab="bookmarks">북마크</button>
        </nav>
    </header>

    <main class="main-content">
        <!-- Dashboard -->
        <div id="tab-dashboard" class="tab-panel active">
            <div class="stats-row">
                <div class="stat-card">
                    <div class="stat-value" id="statTotal">-</div>
                    <div class="stat-label">총 기사</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value hot" id="statHot">-</div>
                    <div class="stat-label">HOT 뉴스</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="statSources">-</div>
                    <div class="stat-label">활성 소스</div>
                </div>
            </div>

            <div id="hotBanner" class="hot-banner" style="display:none">
                <div class="hot-banner-title">HOT NEWS</div>
                <div class="hot-banner-items" id="hotBannerItems"></div>
            </div>

            <div class="filter-bar">
                <button class="filter-chip active" data-filter="all">전체</button>
                <button class="filter-chip" data-filter="hot">HOT</button>
                <button class="filter-chip" data-filter="domestic">국내</button>
                <button class="filter-chip" data-filter="tech">테크</button>
                <button class="filter-chip" data-filter="economy">경제</button>
                <button class="filter-chip" data-filter="global">글로벌</button>
                <button class="filter-chip" data-filter="analysis">분석</button>
            </div>

            <div class="action-bar">
                <button class="action-btn primary" id="refreshBtn">새로고침</button>
                <button class="action-btn" id="emailBtn">이메일 발송</button>
                <button class="action-btn" onclick="window.__handleDownload('md')">MD 다운로드</button>
                <button class="action-btn" onclick="window.__handleDownload('ppt')">PPT 다운로드</button>
            </div>

            <div id="dashboardContent">
                <div class="news-grid" id="newsGrid"></div>
            </div>
        </div>

        <!-- Timeline -->
        <div id="tab-timeline" class="tab-panel">
            <div class="timeline-dates" id="timelineDates"></div>
            <div class="news-grid" id="timelineNews"></div>
        </div>

        <!-- Analysis -->
        <div id="tab-analysis" class="tab-panel">
            <div class="analysis-subtabs">
                <button class="subtab-btn active" data-subtab="keywords" onclick="window.__switchAnalysisTab('keywords')">키워드 트렌드</button>
                <button class="subtab-btn" data-subtab="sources" onclick="window.__switchAnalysisTab('sources')">소스 매트릭스</button>
                <button class="subtab-btn" data-subtab="weekly" onclick="window.__switchAnalysisTab('weekly')">주간 요약</button>
            </div>

            <div id="analysis-keywords" class="analysis-panel active">
                <div class="chart-container" id="keywordChart">
                    <div class="chart-title">키워드 트렌드 (최근 14일)</div>
                    <div style="height:300px"><canvas id="keywordCanvas"></canvas></div>
                </div>
                <div class="keyword-cloud" id="keywordCloud"></div>
            </div>

            <div id="analysis-sources" class="analysis-panel">
                <div id="sourceMatrix"></div>
            </div>

            <div id="analysis-weekly" class="analysis-panel">
                <div id="weeklySummary"></div>
            </div>
        </div>

        <!-- Bookmarks -->
        <div id="tab-bookmarks" class="tab-panel">
            <div id="bookmarksList"></div>
        </div>
    </main>

    <!-- Mobile Tab Bar -->
    <div class="mobile-tab-bar">
        <div class="mobile-tab-bar-inner">
            <button class="mobile-tab-btn active" data-tab="dashboard">
                <span class="tab-icon">&#x1F4F0;</span><span>대시보드</span>
            </button>
            <button class="mobile-tab-btn" data-tab="timeline">
                <span class="tab-icon">&#x1F4C5;</span><span>타임라인</span>
            </button>
            <button class="mobile-tab-btn" data-tab="analysis">
                <span class="tab-icon">&#x1F4CA;</span><span>분석</span>
            </button>
            <button class="mobile-tab-btn" data-tab="bookmarks">
                <span class="tab-icon">&#x2B50;</span><span>북마크</span>
            </button>
        </div>
    </div>

    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-spinner"></div>
    </div>

    <!-- Toast -->
    <div class="toast" id="toast"></div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js@4/dist/chart.umd.min.js"></script>
    <script src="app.js"></script>
</body>
</html>
